<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Product Entry</title>
    <th:block th:replace="fragments/header::head"/>
</head>
<body>
<div th:replace="fragments/header::header"></div>
<div class="container">
    <h1>Product Entry</h1>

    <form action="#" th:action="@{/product/save}" th:object="${model}" id="form1" method="post">
        <div class="form-group">
            <label for="productName">Name</label>
            <input type="text" class="form-control" id="productName" aria-describedby="productNameDescription" th:field="*{productName}">
            <small id="productNameDescription" class="form-text text-muted">
                Enter product name
            </small>
        </div>
        <div class="form-group">
            <label for="productCode">Code</label>
            <input type="text" class="form-control" id="productCode" aria-describedby="productCodeDescription" th:field="*{productCode}">
            <small id="productCodeDescription" class="form-text text-muted">
                Enter product code
            </small>
        </div>
        <div class="form-group">
            <label for="currency">Currency</label>
            <input type="text" class="form-control" id="currency" aria-describedby="currencyDescription" th:field="*{currency}">
            <small id="currencyDescription" class="form-text text-muted">
                Enter currency
            </small>
        </div>
        <div class="form-group">
            <label for="amount">Price</label>
            <input type="number" class="form-control" id="amount" aria-describedby="amount-description" th:field="*{amount}">
            <small id="amount-description" class="form-text text-muted">
                Enter price
            </small>
        </div>
        <div role="group">
            <button type="submit" class="btn btn-primary">Submit</button>
            <button type="button" class="btn btn-outline-secondary" id="test">Submit</button>
            <a class="btn btn-outline-secondary" th:href="@{/product/list}">Cancel</a>
        </div>
    </form>
</div>
<th:block th:replace="fragments/footer::footer"/>
<script>
    $("#test").on("click", function (e) {
        e.preventDefault();
        var contextPath = $('#contextPath').val();
        console.log(contextPath);
        var url = contextPath + "/product/save";
        $('#form1').attr('action', url).submit();
    });
</script>
</body>
</html>